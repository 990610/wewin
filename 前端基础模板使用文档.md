# 前端基础模板使用文档

## 项目文档使用地址
```
https://www.yuque.com/docs/share/ff95b0c6-f59f-453f-b6b8-10bf551efb53?# 《前端基础模板使用文档》

```

### 一、技术框架

vue + element+echarts

### 二、项目下载与使用

#### 1、克隆项目

git clone http://git.wewin.com.cn:9500/pangtao/vue-element-template.git

没有权限请找庞涛添加

#### 2、安装依赖

npm install --registry=https://registry.npm.taobao.org

如果存在node-sass安装失败，请设置node-sass镜像地址

npm config set sass_binary_site http://npm.taobao.org/mirrors/node-sass/

#### 3、运行

npm run server

### 三、目录结构与介绍

![image.png](https://cdn.nlark.com/yuque/0/2020/png/581948/1599442556234-6638d306-4dc7-43a2-9a41-2aca03794aca.png)



### 四、IP配置与请求配置

#### 1、分环境配置IP

项目分为三个环境，开发环境通过（npm run serve）运行，测试环境通过（npm run build）打包后在服务器上运行，生产环境通过（npm run build:stage）在正式环境中运行。所以配置IP方面，需要到相应的.env文件下的VUE_APP_BASE_API变量下运行如图：

![image.png](https://cdn.nlark.com/yuque/0/2020/png/581948/1599450576409-33bc7d59-a7cb-416f-9f66-f2f872d5a3b1.png)

![image.png](https://cdn.nlark.com/yuque/0/2020/png/581948/1599450613909-f0c08758-2343-4298-b180-d916caf6d390.png)

#### 2、接口IP选择

项目中可配合PIM项目使用mok虚拟数据进行前端提前开发。mockIP的配置在utils/request.js文件中，通过控制Api文件下的各个js文件的true与false来选择使用服务器IP或者mockIP，如下图

![image.png](https://cdn.nlark.com/yuque/0/2020/png/581948/1599533633496-5b2cd00e-0d28-4ac2-a315-e322c42f79cb.png)

![image.png](https://cdn.nlark.com/yuque/0/2020/png/581948/1599533570215-04f1e4a3-3679-4c40-a12f-f7507cdfb33e.png)

request.js文件是前端axios请求的封装文件，包含了请求时接口增加验签功能（通过MD5加密）和接收时的请求拦截，开发时可自行修改。



### 五、菜单配置

#### 1、路由属性介绍

在router/index.js中有详细说明

![image.png](https://cdn.nlark.com/yuque/0/2020/png/581948/1599535756676-8a63a3a0-2c3c-4bec-b076-d6aecc6f1271.png?x-oss-process=image%2Fresize%2Cw_1500)

#### 2、配置选择

![image.png](https://cdn.nlark.com/yuque/0/2020/png/581948/1599536333471-c33b838d-6ca0-4ff6-b9ef-c2799afe5525.png)

#### 3、备注

 组件名称一定要和vue名称一样，否则页面切换刷新不会起作用即 noCache字段无效，组件路径参考系统设置配置

![image.png](https://cdn.nlark.com/yuque/0/2020/png/581948/1599536453743-f9b581c4-1455-4c49-9a6d-6b39946e530d.png)

![image.png](https://cdn.nlark.com/yuque/0/2020/png/581948/1599536437607-65cbd268-de2b-4df0-bc88-2086afba8b8e.png)

#### 4、新建一级菜单注意

在需要建立类似首页这种一级菜单是，需要通过菜单管理建立一个目录和一个二级菜单，通过控制目录是否显示根目录来合并目录成一级菜单，即目录的alwaysShow 为 false，如图1；如果将目录的alwaysShow设置为true，那么只有一个二级菜单时目录与菜单也不会合并，如图2。

![image.png](https://cdn.nlark.com/yuque/0/2020/png/581948/1599543771878-09079cd8-bec1-4b2b-b1c0-2e3cb474ce2d.png)

图1

![image.png](https://cdn.nlark.com/yuque/0/2020/png/581948/1599543490594-f9ce6e13-bd66-4cf6-9eff-ca808a389c89.png)![image.png](https://cdn.nlark.com/yuque/0/2020/png/581948/1599543540648-6a28b753-090b-439d-bd45-d6ad0acdcfd8.png)

图2

### 六、公共样式封装思想

#### 1、全局CSS样式文件 index.scss 

该文件位于 assets/styles 下。主要用于放置全局的css类，目前主要由滚动条样式修改，清除浮动clearfix，以及flex布局样式类，文字换行类等。全局通用表单样式和弹窗dialog样式也封装在这里，可以在使用前看一下，做具体修改

#### 2、element 全局样式修改 element-ui.scss/element-variable.scss

前者用于全局修改element组件的一些样式，如表格，分页，删除气泡等组件。

后者用于修改element的主题使用，即全局修改按钮主题颜色等。

#### 3、主题设置 variables.scss



在该文件下可全局定义scss变量，如主题颜色 $themColor:#409EFF,该文件下的变量可在其他scss文件下直接使用，如下图。

![image.png](https://cdn.nlark.com/yuque/0/2020/png/581948/1599545214837-efdd0090-2c34-4b24-ab57-270c156ce8f0.png)

![image.png](https://cdn.nlark.com/yuque/0/2020/png/581948/1599544943956-e19ac9c8-668b-49ce-ba07-f95f013cade0.png)

全局scss变量能够方便统一项目中颜色的使用，从而做到一键修改主题效果，不仅限于颜色，在可以在该文件下定义文字大小 如 $codeA:20px，在使用时 font-size:$codeA 即可，方便项目做到统一化管理，修改。

### 七、工具类 utils文件

#### 1、index.js 主要工具文件

该文件封装了时间格式化功能，随机uuid，base6加密等公共功能函数，可根据项目需要自行添加。

#### 2、auth.js

 token设置，一般只修改TokenKey名称

#### 3、getPageTile.js 

   获取项目的标题并显示在页面标题上，可更具需要删除，并删除相应的调用，如图

   ![image.png](https://cdn.nlark.com/yuque/0/2020/png/581948/1599547760004-f84881b0-ed1b-470e-95a8-12347d8b02ab.png)

#### 4、permission.js 权限控制文件，一般不做修改

#### 5、request.js

   axios封装函数，对请求增加拦截添加token，和验签，对返回增加code判断，可根据项目自行修改